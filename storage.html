<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <title>What Web Can Do Today</title> <meta name=description content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs"> <meta name=viewport content="width=device-width,initial-scale=1"> <link rel=preload as=font crossorigin=anonymous type=font/woff2 href="https://fonts.gstatic.com/s/lato/v13/MDadn8DQ_3oT6kvnUq_2r_esZW2xOQ-xsNqO47m55DA.woff2"> <link rel=preload as=font crossorigin=anonymous type=font/woff2 href="/fonts/Material-Design-Icons.woff?3ocs8m"> <link rel=preload as=image type=image/svg+xml href="/images/logo.svg"> <!-- Origin Trial Token, feature = Generic Sensors, origin = https://whatwebcando.today, expires = 2018-01-14 --> <meta http-equiv=origin-trial data-feature="Generic Sensors" data-expires=2018-01-14 content="AnCChdP/Nl2frOkKV1Ofq1PUSkz+B2LamQ8n5GyfMWRradCAIwtPwTZ/zLWGmbdDX2ZKA7zQWhK4DIfFCo92JgEAAABZeyJvcmlnaW4iOiJodHRwczovL3doYXR3ZWJjYW5kby50b2RheTo0NDMiLCJmZWF0dXJlIjoiR2VuZXJpY1NlbnNvciIsImV4cGlyeSI6MTUxNTk2MjYwMX0="> <script type=text/javascript>if(location.host=='whatwebcando.today'&&location.protocol!='https:')location.protocol='https'</script> <link rel=canonical href="https://whatwebcando.today/storage.html"> <link rel=apple-touch-icon sizes="60x60 72x72 76x76" href=icon-76x76.png> <link rel=apple-touch-icon sizes="114x114 120x120" href=icon-120x120.png> <link rel=apple-touch-icon sizes=144x144 href=icon-144x144.png> <link rel=apple-touch-icon sizes=152x152 href=icon-152x152.png> <link rel=apple-touch-icon sizes="167x167 180x180" href=icon-180x180.png> <link rel=icon type=image/png sizes="16x16 32x32" href=icon-32x32.png> <link rel=icon type=image/png sizes=96x96 href=icon-96x96.png> <link rel=icon type=image/png sizes=192x192 href=icon-192x192.png> <link rel=manifest href=manifest.json> <meta name=apple-mobile-web-app-capable content=yes> <meta name=mobile-web-app-capable content=yes> <meta name=application-name content="What Web Can Do Today"> <meta name=apple-mobile-web-app-title content="What Web Can Do"> <meta name=msapplication-TileImage content=https://whatwebcando.today/icon-144x144.png> <meta name=theme-color content=#ffffff> <meta name=msapplication-navbutton-color content=#ffffff> <meta name=apple-mobile-web-app-status-bar-style content=black-translucent> <meta name=msapplication-starturl content="/"> <meta property=og:type content="website"> <meta property=og:title content="What Web Can Do Today"> <meta property=og:description content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs."> <meta property=og:url content="https://whatwebcando.today/"> <meta property=og:site_name content="WhatWebCanDo"> <meta property=og:image content="https://whatwebcando.today/images/share-image.png"> <meta name=twitter:card content="summary"> <meta name=twitter:site content="@WhatWebCanDo"> <meta name=twitter:title content="What Web Can Do Today"> <meta name=twitter:description content="Can I rely on the Web Platform features to build my app? An overview of the device integration HTML5 APIs"> <meta name=twitter:image content="https://whatwebcando.today/images/share-image.png"> <link rel=stylesheet href=styles/layout.b43caeb4.css> <link rel=stylesheet href=styles/vendor.f0c6d102.css> <link rel=stylesheet href=styles/main.9afc3c79.css> <style type=text/css>/* embed from https://fonts.googleapis.com/css?family=Lato */
      @font-face {
        font-family: 'Lato';
        font-style: normal;
        font-weight: 400;
        src: local('Lato Regular'), local('Lato-Regular'), url(https://fonts.gstatic.com/s/lato/v13/MDadn8DQ_3oT6kvnUq_2r_esZW2xOQ-xsNqO47m55DA.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
      }</style>  <body class=page-feature> <div class="navbar navbar-white navbar-fixed-top show-on-feature-page hidden-sm hidden-md hidden-lg" role=navigation> <div class=navbar-header> <a class="navbar-toggle pull-left" href=.> <i class=mdi-navigation-arrow-back></i> </a> <a class=navbar-brand href=.>What Web Can Do</a> </div> </div> <div class=container> <header class="well text-center hide-on-feature-page-sm" role=banner aria-label=Main> <h1>What Web Can Do Today</h1> <p>Can I rely on the Web Platform features to build my app?</p> <p>An overview of the device integration HTML5 APIs</p> </header> <div class="legend clearfix hide-on-feature-page" aria-hidden=true> <ul> <li><i class="mdi-navigation-check text-success"></i> Feature available in your current browser</li> <li><i class="mdi-navigation-close text-danger"></i> Feature not available in your current browser</li> </ul> </div> <nav class=features-list-container role=navigation aria-label=Features> <div class="panel panel-primary"> <div class=panel-heading> <div class=panel-title><a href=.>Native Behaviors</a></div> </div> <ul class="panel-body features-list hide-on-feature-page"> <li> <a href=local-notifications.html class="btn btn-flat btn-default ripple"> <i class=mdi-notification-system-update aria-hidden=true></i> Local Notifications <span class=support-info-placeholder id=support-info-placeholder-local-notifications></span> </a> </li> <li> <a href=push-notifications.html class="btn btn-flat btn-default ripple"> <i class=mdi-notification-tap-and-play aria-hidden=true></i> Push Messages <span class=support-info-placeholder id=support-info-placeholder-push-notifications></span> </a> </li> <li> <a href=installation.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-get-app aria-hidden=true></i> Home Screen Installation <span class=support-info-placeholder id=support-info-placeholder-installation></span> </a> </li> <li> <a href=foreground-detection.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-flip-to-front aria-hidden=true></i> Foreground Detection <span class=support-info-placeholder id=support-info-placeholder-foreground-detection></span> </a> </li> <li> <a href=permissions.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-lock-open aria-hidden=true></i> Permissions <span class=support-info-placeholder id=support-info-placeholder-permissions></span> </a> </li> </ul> </div> <div class="panel panel-primary"> <div class=panel-heading> <div class=panel-title><a href=.>Surroundings</a></div> </div> <ul class="panel-body features-list hide-on-feature-page"> <li> <a href=bluetooth.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-bluetooth aria-hidden=true></i> Bluetooth <span class=support-info-placeholder id=support-info-placeholder-bluetooth></span> </a> </li> <li> <a href=usb.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-usb aria-hidden=true></i> USB <span class=support-info-placeholder id=support-info-placeholder-usb></span> </a> </li> <li> <a href=nfc.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-nfc aria-hidden=true></i> NFC <span class=support-info-placeholder id=support-info-placeholder-nfc></span> </a> </li> <li> <a href=ambient-light.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-brightness-low aria-hidden=true></i> Ambient Light <span class=support-info-placeholder id=support-info-placeholder-ambient-light></span> </a> </li> </ul> </div> <div class="panel panel-primary"> <div class=panel-heading> <div class=panel-title><a href=.>Input</a></div> </div> <ul class="panel-body features-list hide-on-feature-page"> <li> <a href=touch.html class="btn btn-flat btn-default ripple"> <i class=mdi-content-gesture aria-hidden=true></i> Touch Gestures <span class=support-info-placeholder id=support-info-placeholder-touch></span> </a> </li> <li> <a href=speech-recognition.html class="btn btn-flat btn-default ripple"> <i class=mdi-av-mic aria-hidden=true></i> Speech Recognition <span class=support-info-placeholder id=support-info-placeholder-speech-recognition></span> </a> </li> <li> <a href=clipboard.html class="btn btn-flat btn-default ripple"> <i class=mdi-content-content-paste aria-hidden=true></i> Clipboard (Copy &amp; Paste) <span class=support-info-placeholder id=support-info-placeholder-clipboard></span> </a> </li> <li> <a href=pointer-adaptation.html class="btn btn-flat btn-default ripple"> <i class=mdi-hardware-mouse aria-hidden=true></i> Pointing Device Adaptation <span class=support-info-placeholder id=support-info-placeholder-pointer-adaptation></span> </a> </li> </ul> </div> <div class="panel panel-primary"> <div class=panel-heading> <div class=panel-title><a href=.>Camera &amp; Microphone</a></div> </div> <ul class="panel-body features-list hide-on-feature-page"> <li> <a href=camera-microphone.html class="btn btn-flat btn-default ripple"> <i class=mdi-image-camera-alt aria-hidden=true></i> Audio &amp; Video Capture <span class=support-info-placeholder id=support-info-placeholder-camera-microphone></span> </a> </li> <li> <a href=photos.html class="btn btn-flat btn-default ripple"> <i class=mdi-image-camera-roll aria-hidden=true></i> Advanced Camera Controls <span class=support-info-placeholder id=support-info-placeholder-photos></span> </a> </li> <li> <a href=recording.html class="btn btn-flat btn-default ripple"> <i class=mdi-av-mic aria-hidden=true></i> Recording Media <span class=support-info-placeholder id=support-info-placeholder-recording></span> </a> </li> <li> <a href=realtime.html class="btn btn-flat btn-default ripple"> <i class=mdi-av-videocam aria-hidden=true></i> Real-time Communication <span class=support-info-placeholder id=support-info-placeholder-realtime></span> </a> </li> </ul> </div> <div class="panel panel-primary"> <div class=panel-heading> <div class=panel-title><a href=.>Screen &amp; Output</a></div> </div> <ul class="panel-body features-list hide-on-feature-page"> <li> <a href=fullscreen.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-settings-overscan aria-hidden=true></i> Fullscreen <span class=support-info-placeholder id=support-info-placeholder-fullscreen></span> </a> </li> <li> <a href=orientation-lock.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-screen-lock-rotation aria-hidden=true></i> Screen Orientation &amp; Lock <span class=support-info-placeholder id=support-info-placeholder-orientation-lock></span> </a> </li> <li> <a href=wake-lock.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-lock aria-hidden=true></i> Wake Lock <span class=support-info-placeholder id=support-info-placeholder-wake-lock></span> </a> </li> <li> <a href=presentation.html class="btn btn-flat btn-default ripple"> <i class=mdi-hardware-tv aria-hidden=true></i> Presentation Features <span class=support-info-placeholder id=support-info-placeholder-presentation></span> </a> </li> </ul> </div> <div class="panel panel-primary"> <div class=panel-heading> <div class=panel-title><a href=.>Device Features</a></div> </div> <ul class="panel-body features-list hide-on-feature-page"> <li> <a href=network-type-speed.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-wifi-tethering aria-hidden=true></i> Network Type &amp; Speed <span class=support-info-placeholder id=support-info-placeholder-network-type-speed></span> </a> </li> <li> <a href=online-state.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-signal-cellular-connected-no-internet-3-bar aria-hidden=true></i> Online State <span class=support-info-placeholder id=support-info-placeholder-online-state></span> </a> </li> <li> <a href=vibration.html class="btn btn-flat btn-default ripple"> <i class=mdi-notification-vibration aria-hidden=true></i> Vibration <span class=support-info-placeholder id=support-info-placeholder-vibration></span> </a> </li> <li> <a href=battery-status.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-battery-80 aria-hidden=true></i> Battery Status <span class=support-info-placeholder id=support-info-placeholder-battery-status></span> </a> </li> <li> <a href=memory.html class="btn btn-flat btn-default ripple"> <i class=mdi-hardware-memory aria-hidden=true></i> Device Memory <span class=support-info-placeholder id=support-info-placeholder-memory></span> </a> </li> </ul> </div> <div class="panel panel-primary"> <div class=panel-heading> <div class=panel-title><a href=.>Seamless Experience</a></div> </div> <ul class="panel-body features-list hide-on-feature-page"> <li> <a href=offline.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-settings-applications aria-hidden=true></i> Offline Mode <span class=support-info-placeholder id=support-info-placeholder-offline></span> </a> </li> <li> <a href=background-sync.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-backup aria-hidden=true></i> Background Sync <span class=support-info-placeholder id=support-info-placeholder-background-sync></span> </a> </li> <li> <a href=app-communication.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-explore aria-hidden=true></i> Inter-App Communication <span class=support-info-placeholder id=support-info-placeholder-app-communication></span> </a> </li> <li> <a href=payments.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-payment aria-hidden=true></i> Payments <span class=support-info-placeholder id=support-info-placeholder-payments></span> </a> </li> <li> <a href=credentials.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-lock-open aria-hidden=true></i> Credentials <span class=support-info-placeholder id=support-info-placeholder-credentials></span> </a> </li> </ul> </div> <div class="panel panel-primary"> <div class=panel-heading> <div class=panel-title><a href=.>Location &amp; Position</a></div> </div> <ul class="panel-body features-list hide-on-feature-page"> <li> <a href=geolocation.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-gps-fixed aria-hidden=true></i> Geolocation <span class=support-info-placeholder id=support-info-placeholder-geolocation></span> </a> </li> <li> <a href=geofencing.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-group-work aria-hidden=true></i> Geofencing <span class=support-info-placeholder id=support-info-placeholder-geofencing></span> </a> </li> <li> <a href=device-orientation.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-screen-rotation aria-hidden=true></i> Device Orientation <span class=support-info-placeholder id=support-info-placeholder-device-orientation></span> </a> </li> <li> <a href=accelerometer.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-3d-rotation aria-hidden=true></i> Device Motions <span class=support-info-placeholder id=support-info-placeholder-accelerometer></span> </a> </li> <li> <a href=proximity.html class="btn btn-flat btn-default ripple"> <i class=mdi-image-leak-add aria-hidden=true></i> Proximity Sensors <span class=support-info-placeholder id=support-info-placeholder-proximity></span> </a> </li> </ul> </div> <div class="panel panel-primary"> <div class=panel-heading> <div class=panel-title><a href=.>Operating System</a></div> </div> <ul class="panel-body features-list hide-on-feature-page"> <li> <a href=storage.html class="btn btn-flat btn-default ripple"> <i class=mdi-notification-folder-special aria-hidden=true></i> Offline Storage <span class=support-info-placeholder id=support-info-placeholder-storage></span> </a> </li> <li> <a href=files.html class="btn btn-flat btn-default ripple"> <i class=mdi-device-sd-storage aria-hidden=true></i> File Access <span class=support-info-placeholder id=support-info-placeholder-files></span> </a> </li> <li> <a href=contacts.html class="btn btn-flat btn-default ripple"> <i class=mdi-action-account-box aria-hidden=true></i> Contacts <span class=support-info-placeholder id=support-info-placeholder-contacts></span> </a> </li> <li> <a href=storage-quota.html class="btn btn-flat btn-default ripple"> <i class=mdi-notification-sim-card-alert aria-hidden=true></i> Storage Quotas <span class=support-info-placeholder id=support-info-placeholder-storage-quota></span> </a> </li> </ul> </div> </nav> <main class="row show-on-feature-page feature-target" role=main aria-label="Feature description"> <div class=col-sm-12> <div class="panel panel-primary feature-box"> <div class=panel-heading> <a href=. aria-label=close class="close-btn pull-right"><i class=mdi-navigation-close aria-hidden=true></i></a> <h2 class=panel-title>Offline Storage</h2> </div> <article class=panel-body> <section> <p>There were <a href=http://diveinto.html5doctor.com/storage.html target=_blank>several iterations</a> of prototypes and standardized technologies for offline storage capabilities for Web applications. First attempts were either just hacky workarounds (like to store data in cookies) or required additional software (like Flash or Google Gears). Later, Web SQL idea, basically to include SQLite natively within a browser, was coined and <a href="http://caniuse.com/#feat=sql-storage" target=_blank>implemented throughout some browsers</a>, but deprecated later <a href="https://hacks.mozilla.org/2010/06/beyond-html5-database-apis-and-the-road-to-indexeddb/" target=_blank>due to the standardization difficulties</a>.</p> <p>Right now there are at least three distinct and independent technologies standardized and available. The simplest one is <b>Web Storage</b> - a key-value string storage, allowing Web applications to store data either persistently and cross-window (<code>localStorage</code>) or for a single session in a single browser tab (<code>sessionStorage</code>). The more sophisticated <b>IndexedDB</b> is a low-level API over database-like structures with transactions and cursors iterating by indexes. The newest addition - <b>Cache API</b> is a specialized solution to keep <code>Request</code>/<code>Response</code> pairs, useful mostly within <a href=/offline.html>Service Worker</a> implementation.</p> <p>Live example and usage data shown here are referring to <b>Web Storage</b> engine. For details on IndexedDB, refer to <a href="http://caniuse.com/#feat=indexeddb" target=_blank>caniuse.com</a>.</p> <p>The actual persistence of data stored in any of the persistent stores (be it <code>localStorage</code>, IndexedDB or Cache API) is browser-managed and by default might be wiped out without end-user consent in case of memory pressure conditions. To address this problem, <b>Storage API</b> was introduced - it gives the Web applications a method to store the data in a fully reliable way if the user permits it to do so. Chrome's implementation grants this permission based on user-engagement-based heuristic, while Firefox asks for the permission explicitly.</p> </section> <section> <h3>API glimpse</h3> <div class="api-glimpse language-javascript"><p><b>Web Storage API</b></p> <dl> <dt><code>window.sessionStorage</code> <dd>Gives an access to the Web Storage engine with per-session objects lifetime. <dt><code>window.localStorage</code> <dd>Gives an access to the Web Storage engine with persistent objects lifetime. <dt><code>storage.setItem(key, value)</code> <dd>Saves the <code>value</code> string under the <code>key</code> in the selected storage engine. <dt><code>storage.getItem(key)</code> <dd>Returns the string value stored under the <code>key</code> in the selected storage engine. <dt><code>storage.removeItem(key)</code> <dd>Removes the string value stored under the <code>key</code> from the selected storage engine. <dt><code>storage.clear()</code> <dd>Removes all the string values stored in the selected storage engine. <dt><code>window.addEventListener('storage', listener)</code> <dd>An event fired when the data stored in either <code>sessionStorage</code> or <code>localStorage</code> has been changed externally. </dl> <p><b>IndexedDB</b></p> <dl> <dt><code>let openRequest = window.indexedDB.open(name, version)</code> <dd>Triggers opening a database connection to either existing or newly-created database. Returns an object that fires <code>success</code> event when the connection is established. <dt><code>let db = openReques.result</code> <dd>Gives an access to the open database connection instance - available after <code>success</code> was fired. <dt><code>db.createObjectStore(storeName, options)</code> <dd>Creates a named container (object store) for objects in the opened database. <dt><code>let tx = db.transaction(storeName)</code> <dd>Opens a data-reading or data-manipulation transaction scoped to the given object store(s). <dt><code>tx.objectStore.put(value, key)</code> <dd>Saves the <code>value</code> in the currently opened object store. <dt><code>tx.objectStore.get(key)</code> <dd>Gets the object stored under a <code>key</code> in the currently opened object store. <dt><code>tx.createIndex(name, keyPath, options)</code> <dd>Creates an index that allows to seek for the stored objects using the property specified via <code>keyPath</code>. <dt><code>tx.index(name).get(key)</code> <dd>Gets the object having the particular index <code>keyPath</code> equal to the <code>key</code> specified. </dl> <p><b>Cache API</b></p> <dl> <dt><code>let cache = window.caches.open(key)</code> <dd>Returns a <code>Promise</code> that resolves to a store "bucket" object giving an access to the cached <code>Response</code> objects. <dt><code>cache.put(request, response)</code> <dd>Saves the <code>Response</code> object to the cache with its corresponding <code>Request</code> object. <dt><code>cache.match(request, option)</code> <dd>Returns a <code>Promise</code> that resolves to the <code>Response</code> object matching the specified <code>Request</code> (with the <code>options</code>-controlled level of exactness) found in the opened cache "bucket". <dt><code>cache.delete(request, option)</code> <dd>Removes the <code>Response</code> object matching the specified <code>Request</code> (with the <code>options</code>-controlled level of exactness) found in the opened cache "bucket". </dl> <p><b>Storage API (persistence permission)</b></p> <dl> <dt><code>navigator.storage.persist()</code> <dd>Requests a permission to turn the data saved by the Web application into persistent data. Returns a <code>Promise</code> that resolves with a boolean value indicating whether the permission was granted. <dt><code>navigator.storage.persisted()</code> <dd>Returns a <code>Promise</code> that resolves with a boolean value indicating whether the persistent storage permission was already granted. </dl></div> </section> <section class="hidden feature-tests" aria-hidden=true> <h3>Support in your browser</h3> <div id=tests-placeholder></div> </section> <section> <h3>Live Demo</h3> <div id=demo-placeholder> <style></style> <p> <label>Engine</label> </p> <div class=btn-group role=group id=selectEngine> <button type=button class="btn btn-default" data-engine=localStorage>Persistent Storage</button> <button type=button class="btn btn-default" data-engine=sessionStorage>Per-Session Storage</button> </div> <p> <label for=value>Value for <code>myKey</code></label> <input type=text class=form-control id=value> </p> <p>Open the example in another tab and change the value there to see the synchronization via <code>storage</code> event.</p> <div id=target></div> </div> <ul class=tabs> <li class=tab> <input type=radio name=tabs checked id="demo-code-js"> <label for=demo-code-js>JavaScript</label> <pre id=demo-code-content-js class=demo-code-tab><code class=language-javascript>if (&#x27;localStorage&#x27; in window || &#x27;sessionStorage&#x27; in window) {
  var selectedEngine;

  var logTarget &#x3D; document.getElementById(&#x27;target&#x27;);
  var valueInput &#x3D; document.getElementById(&#x27;value&#x27;);

  var reloadInputValue &#x3D; function () {
    valueInput.value &#x3D;  window[selectedEngine].getItem(&#x27;myKey&#x27;) || &#x27;&#x27;;
  }
  
  var selectEngine &#x3D; function (engine) {
    document.querySelector(&#x27;[data-engine&#x3D;&#x27; + engine + &#x27;]&#x27;).classList.add(&#x27;active&#x27;);
    if (selectedEngine) {
      document.querySelector(&#x27;[data-engine&#x3D;&#x27; + selectedEngine + &#x27;]&#x27;).classList.remove(&#x27;active&#x27;);
    }

    selectedEngine &#x3D; engine;
    reloadInputValue();
  };

  var getSelectEngineFn &#x3D; function (button) {
    return function () {
      var engine &#x3D; button.getAttribute(&#x27;data-engine&#x27;);
      if (selectedEngine !&#x3D;&#x3D; engine) {
        selectEngine(engine);
      }
    };
  };

  function handleChange(change) {
    var timeBadge &#x3D; new Date().toTimeString().split(&#x27; &#x27;)[0];
    var newState &#x3D; document.createElement(&#x27;p&#x27;);
    newState.innerHTML &#x3D; &#x27;&lt;span class&#x3D;&quot;badge&quot;&gt;&#x27; + timeBadge + &#x27;&lt;/span&gt; &#x27; + change + &#x27;.&#x27;;
    logTarget.appendChild(newState);
  }

  var buttons &#x3D; document.querySelectorAll(&#x27;#selectEngine button&#x27;);
  for (var i &#x3D; 0; i &lt; buttons.length; ++i) {
    buttons[i].addEventListener(&#x27;click&#x27;, getSelectEngineFn(buttons[i]));
  }
  
  selectEngine(&#x27;localStorage&#x27;);

  valueInput.addEventListener(&#x27;keyup&#x27;, function () {
    window[selectedEngine].setItem(&#x27;myKey&#x27;, this.value);
  });

  var onStorageChanged &#x3D; function (change) {
    var engine &#x3D; change.storageArea &#x3D;&#x3D;&#x3D; window.localStorage ? &#x27;localStorage&#x27; : &#x27;sessionStorage&#x27;;
    handleChange(&#x27;External change in &lt;b&gt;&#x27; + engine + &#x27;&lt;/b&gt;: key &lt;b&gt;&#x27; + change.key + &#x27;&lt;/b&gt; changed from &lt;b&gt;&#x27; + change.oldValue + &#x27;&lt;/b&gt; to &lt;b&gt;&#x27; + change.newValue + &#x27;&lt;/b&gt;&#x27;);
    if (engine &#x3D;&#x3D;&#x3D; selectedEngine) {
      reloadInputValue();
    }
  }

  window.addEventListener(&#x27;storage&#x27;, onStorageChanged);
}</code></pre> </li> <li class=tab> <input type=radio name=tabs id="demo-code-html"> <label for=demo-code-html>HTML</label> <pre id=demo-code-content-html class=demo-code-tab><code class=language-html>&lt;p&gt;
  &lt;label&gt;Engine&lt;/label&gt;
&lt;/p&gt;
&lt;div class&#x3D;&quot;btn-group&quot; role&#x3D;&quot;group&quot; id&#x3D;&quot;selectEngine&quot;&gt;
  &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-default&quot; data-engine&#x3D;&quot;localStorage&quot;&gt;Persistent Storage&lt;/button&gt;
  &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-default&quot; data-engine&#x3D;&quot;sessionStorage&quot;&gt;Per-Session Storage&lt;/button&gt;
&lt;/div&gt;

&lt;p&gt;
  &lt;label for&#x3D;&quot;value&quot;&gt;Value for &lt;code&gt;myKey&lt;/code&gt;&lt;/label&gt;
  &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; id&#x3D;&quot;value&quot;&gt;
&lt;/p&gt;

&lt;p&gt;Open the example in another tab and change the value there to see the synchronization via &lt;code&gt;storage&lt;/code&gt; event.&lt;/p&gt;
&lt;div id&#x3D;&quot;target&quot;&gt;&lt;/div&gt;</code></pre> </li> </ul> </section> <section aria-hidden=true> <h3>Browser support</h3> <div class="caniuse-report clearfix"> <div class=row> <div class="ct-chart browsers-chart col-sm-6"></div> <div class="ct-chart overall-chart col-sm-6"></div> </div> <div class="pull-left top-space legend"> <ul> <li><i class="cl-support cl-support-no"></i> No support</li> <li><i class="cl-support cl-support-partial"></i> Partial support, <a href="http://caniuse.com/#feat=namevalue-storage" target=_blank>see details</a></li> <li><i class="cl-support cl-support-full"></i> Full support</li> </ul> </div> <p class="pull-right top-space"> <a href="http://caniuse.com/#feat=namevalue-storage" target=_blank>Data from caniuse.com</a>, <small>CC-BY 4.0 license</small> </p> </div> </section> <section> <h3>Resources</h3> <ul class=resources> <li><a href=https://html.spec.whatwg.org/multipage/webstorage.html target=_blank>Web Storage Specification</a></li> <li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API target=_blank>MDN: Web Storage API</a></li> <li><a href="https://www.w3.org/TR/IndexedDB/" target=_blank>IndexedDB Specification</a></li> <li><a href=https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API target=_blank>MDN: IndexedDB API</a></li> <li><a href=https://w3c.github.io/ServiceWorker/v1/#cache target=_blank>Cache API Specification</a></li> <li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Cache target=_blank>MDN: Cache API</a></li> <li><a href="https://storage.spec.whatwg.org/" target=_blank>Storage API Specification</a></li> <li><a href=https://developers.google.com/web/updates/2016/06/persistent-storage target=_blank>Google Developers: Persistent Storage</a></li> </ul> </section> </article> </div> </div> </main> <p class=text-spur>Interested in a <a href=https://adambar.pl/#workshops target=_blank>workshop about modern Mobile Web capabilities</a>?</p> <footer class=clearfix role=contentinfo aria-label="Website footer"> <address class=pull-left> <a href=https://github.com/NOtherDev/whatwebcando target=_blank class="icon github-icon">GitHub</a> <a href=https://twitter.com/WhatWebCanDo target=_blank class="icon twitter-icon">Twitter</a> </address> <p class="pull-right text-right"> Created by <a href=https://adambar.pl>Adam Bar</a><br> Licenced under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA 4.0</a> </p> </footer> </div> <script src=https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.23.0/polyfill.min.js integrity="sha256-2nu8qdFj9AM9XRd75EAp3XRGEKiRprWL4hPMhYkj150=" crossorigin=anonymous></script> <script>window.Promise || document.write('<script src="/scripts/babel-polyfill/browser-polyfill.js"></scr' + 'ipt>');</script> <script src=https://cdnjs.cloudflare.com/ajax/libs/chartist/0.9.8/chartist.min.js integrity="sha256-8qdoD9oNtwQnKw4+3j7H2Ad8ME4DHGem/xLYWOZVzzU=" crossorigin=anonymous></script> <script>window.Chartist || document.write('<script src="/scripts/chartist/dist/chartist.min.js"></scr' + 'ipt>');</script> <script src=scripts/vendor.65ca8f8f.js></script> <script src=scripts/main.50031dac.js></script> <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-69397212-1', 'auto');
      ga('send', 'pageview');</script>  